{% extends "layouts/base.html.twig" %}

{% block head %}
    <meta name="description" content="Blog posts about modern PHP development, architecture, and best practices">
    <meta name="keywords" content="PHP, development, blog, programming, architecture">
    <meta property="og:title" content="Blog | {{ site.name }}">
    <meta property="og:description" content="Blog posts about modern PHP development">
    <meta property="og:type" content="website">
{% endblock %}

{% block content %}
<!-- Main -->
<section id="main">
    <div class="container">
        <div class="row">
            <div class="col-8 col-6-medium">
                <!-- Main Content -->
                <article class="box post">
                    <header>
                        <h2>Blog</h2>
                        <p>Insights into modern PHP development, architecture, and best practices</p>
                    </header>
                    
                    {% if blog_posts %}
                        <p><strong>{{ blog_posts|length }} posts available</strong></p>
                        
                        {% for post in blog_posts %}
                            <section class="box">
                                <a href="blog?post={{ post.post }}" class="image featured">
                                    <img src="images/pic0{{ loop.index % 10 + 1 }}.jpg" alt="{{ post.title }}" />
                                </a>
                                <header>
                                    <h3><a href="blog?post={{ post.post }}">{{ post.title }}</a></h3>
                                    <p class="post-meta">
                                        {% if post.published %}
                                            <time datetime="{{ post.published }}">{{ post.published }}</time>
                                        {% endif %}
                                        {% if post.author %}
                                            by {{ post.author }}
                                        {% endif %}
                                        {% if post.readingTime %}
                                            â€¢ {{ post.readingTime }}
                                        {% endif %}
                                    </p>
                                </header>
                                <p>{{ post.description|slice(0, 200) }}{% if post.description|length > 200 %}...{% endif %}</p>
                                
                                {% if post.tags %}
                                    <div class="post-tags">
                                        {% for tag in post.tags %}
                                            <span class="tag">{{ tag }}</span>
                                        {% endfor %}
                                    </div>
                                {% endif %}
                                
                                <footer>
                                    <ul class="actions">
                                        <li><a href="blog?post={{ post.post }}" class="button alt">Read More</a></li>
                                    </ul>
                                </footer>
                            </section>
                        {% endfor %}
                    {% else %}
                        <section class="box">
                            <header>
                                <h3>No Posts Available</h3>
                            </header>
                            <p>There are currently no blog posts available. Check back soon for new content!</p>
                        </section>
                    {% endif %}
                </article>
            </div>
            <div class="col-4 col-6-medium col-12-small">
                <!-- Sidebar Content -->
                <section class="box">
                    <a href="#" class="image featured"><img src="images/pic02.png" alt="" /></a>
                    <header><h3>Development Journey</h3></header>
                    <p>Follow along as we explore modern PHP development practices, from legacy migrations to cutting-edge architectures.</p>
                    <footer><a href="#" class="button alt">Learn More</a></footer>
                </section>
                <section class="box">
                    <header><h3>Categories</h3></header>
                    <ul class="divided">
                        <li><a href="#">Development</a></li>
                        <li><a href="#">Architecture</a></li>
                        <li><a href="#">Best Practices</a></li>
                        <li><a href="#">Migration</a></li>
                        <li><a href="#">Innovation</a></li>
                    </ul>
                </section>
                <section class="box">
                    <header><h3>Recent Posts</h3></header>
                    {% if blog_posts %}
                        <ul class="divided">
                            {% for post in blog_posts|slice(0, 5) %}
                                <li><a href="blog?post={{ post.post }}">{{ post.title }}</a></li>
                            {% endfor %}
                        </ul>
                    {% endif %}
                </section>
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block styles %}
<style>
.post-meta {
    color: #666;
    font-size: 0.9em;
    margin-bottom: 1em;
}

.post-tags {
    margin: 1em 0;
}

.tag {
    display: inline-block;
    background: #f0f0f0;
    color: #333;
    padding: 0.2em 0.6em;
    border-radius: 3px;
    font-size: 0.8em;
    margin-right: 0.5em;
    margin-bottom: 0.3em;
}

.box {
    transition: transform 0.2s ease;
}

.box:hover {
    transform: translateY(-2px);
}

.post-meta time {
    font-weight: bold;
}

@media screen and (max-width: 736px) {
    .post-meta {
        font-size: 0.8em;
    }
}
</style>
{% endblock %}